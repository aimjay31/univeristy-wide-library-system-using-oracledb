{% extends "layout.html" %}
{% block content %}
<h1>My Library</h1>

{% if books %}
<table>
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>University</th>
        <th>Department</th>
        <th>Year</th>
        <th>Actions</th>
    </tr>

    {% for book in books %}
    <tr>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.university }}</td>
        <td>{{ book.department }}</td>
        <td>{{ book.year_published }}</td>
<td style="white-space: nowrap;">

    <!-- Remove Button -->
    <form method="POST" 
          action="{{ url_for('user_library.remove_from_library', book_id=book.book_id) }}" 
          style="display:inline-block; margin-right:8px;">
        <button type="submit"
            style="
                background:#e63946;
                color:white;
                padding:6px 12px;
                border:none;
                border-radius:5px;
                cursor:pointer;
                font-size:14px;
            ">
            Remove
        </button>
    </form>

    <!-- View PDF Button -->
    {% if book.pdf_file %}
    <a href="{{ url_for('user_library.view_pdf', book_id=book.book_id) }}" target="_blank"
        style="
            background:#1d3557;
            color:white;
            padding:6px 12px;
            border-radius:5px;
            text-decoration:none;
            font-size:14px;
            display:inline-block;
        ">
        View PDF
    </a>
    {% endif %}

</td>

    </tr>
    {% endfor %}
</table>

{% else %}
<p>You have not added any books to your library yet.</p>
{% endif %}

{% endblock %}
